meta {
  name: Update devtest-generic-access-resource
  type: http
  seq: 1
}

put {
  url: {{baseUrl}}/resourceregistry/api/v1/resource/{{id}}
  body: json
  auth: none
}

body:json {
  {
    "identifier": "devtest-generic-access-resource",
    "title": {
      "en": "Generic Access Resource for Development Tests",
      "nb": "Generisk Tilgangsressurs for Utviklingstester",
      "nn": "Generisk Tilgongsressurs for Utviklingstestar"
    },
    "description": {
      "en": "Very nice generic access resource for development tests",
      "nb": "Veldig fin generisk tilgangsressurs for utviklingstester",
      "nn": "Steikje fine generisk tilgongsressurs for utviklingstestar"
    },
    "rightDescription": {
      "en": "You'll give access to this nice generic access resource for development tests",
      "nb": "Du gir tilgang til denne fine generiske tilgangsressursen for utviklingstester",
      "nn": "Du gir tilgong til dinne steikje fine generiske tilgongsressursen for utviklingstestar"
    },
    "homepage": "",
    "status": "Active",
    "contactPoints": [],
    "isPartOf": "",
    "resourceReferences": [],
    "delegable": true,
    "visible": true,
    "hasCompetentAuthority": {
      "organization": "991825827",
      "orgcode": "ttd",
      "name": {
        "en": "Test departement",
        "nb": "Testdepartement",
        "nn": "Testdepartement"
      }
    },
    "keywords": [],
    "limitedByRRR": false,
    "selfIdentifiedUserEnabled": false,
    "enterpriseUserEnabled": true,
    "resourceType": "GenericAccessResource"
  }
}

vars:pre-request {
  auth_tokenType: Enterprise
  auth_scopes: altinn:resourceregistry/resource.write
  auth_org: digdir
  auth_orgNo: 991825827
  id: devtest-generic-access-resource
}

script:pre-request {
  await tokenGenerator.getToken();
}
