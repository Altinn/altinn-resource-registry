auth {
  mode: bearer
}

auth:bearer {
  token: eyJraWQiOiJPN25CYkdZenU2TGVGZnNzVGh2bWRDMVE0OFB5NWJNX0RjSDk5cmRHZGt3IiwiYWxnIjoiUlMyNTYifQ.eyJhdWQiOiJodHRwczovL3d3dy5hbHRpbm4ubm8vbWFza2lucG9ydGVuLWFwaS8iLCJzY29wZSI6ImFsdGlubjpyZXNvdXJjZXJlZ2lzdHJ5L3Jlc291cmNlLmFkbWluIiwiaXNzIjoiaHR0cHM6Ly9tYXNraW5wb3J0ZW4ubm8vIiwiY2xpZW50X2FtciI6InByaXZhdGVfa2V5X2p3dCIsInRva2VuX3R5cGUiOiJCZWFyZXIiLCJleHAiOjE3NjI3Nzk0MDAsImlhdCI6MTc2Mjc3OTI4MCwiY2xpZW50X2lkIjoiZWFmMGUyMDItOGFjOC00NmZiLWI3MjYtYTk5ODQ0NzQyYjAxIiwianRpIjoiam5rbkFkYlhjT1RDT0pCRkx0UHJFQl90VzFjMW1XNU10cE1iM255VkVtRSIsImNvbnN1bWVyIjp7ImF1dGhvcml0eSI6ImlzbzY1MjMtYWN0b3JpZC11cGlzIiwiSUQiOiIwMTkyOjk5MTgyNTgyNyJ9fQ.vVNjn88dA9h091Uotz35AaaoWBqxUb9lpni6lndLlAbbQrp_Genm_SdanLAtW2NvVzIr-S9FbdvI5Cn2NPlnh643LbnpQq-1pUU6nozqEJoyJZISBHWm3rxJ1WyJYe-s81ndVZfgm0_7jgZ5gBrfLQdOoNjDh6tHnOwDPJ857O5GvJu4jPAWt9FAW9sbduGEUf19Z_BrubxCAVrOsHlbVfRQHD4sVukTBDMw9kgsvgs-nEF8fHgVprpEjqHQBTYy8SwEVyDAi6UC8vbnknjWEs2Yz8-ufl7SpL4YrCcKg0tdS1TXrkWbsIQWbryrj7K0WllFt617M5Zuod4f_LiAWilwknTnMpVBW8Ecilsx5EljsqQ09DBzrJDdNm1PNWZLnsj2035T_dKGfg4NHuYBJA9A__WEDNnVX6qnuf7rwJVdt2_VbrWEyektO86VBBBhCnN1iHVe5VyT2USHItHJkBFBElYU8ocd2caZQrrH2HlR8CFiVCxxcJufz76Jw5te
}

script:pre-request {
  const testTokenGenerator = require("./TestToolsTokenGenerator.js");
}

script:post-response {
  // Reset request vars so auth token data does not bleed between requests.
  // Probably better ways of doing this?
  bru.setVar("auth_tokenType", null);
  bru.setVar("auth_userId", null);
  bru.setVar("auth_partyId", null);
  bru.setVar("auth_ssn", null);
  bru.setVar("auth_scopes", null);
  bru.setVar("auth_org", null);
  bru.setVar("auth_orgNo", null);
  bru.setVar("auth_username", null);
  bru.setVar("bearerToken", null);
}
